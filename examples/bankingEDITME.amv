{
global int john = 10000;
global int jane = 2000;
global int martijn = 99999;

func void deposit(& int account, int amount) {
	account += amount;
};

func void withdraw(& int from, int am) {
	if (from >= am) {
		from -= am;
	} {};
};

func void transfer(& int sender, & int target, int ami) {
	if (sender >= ami) {
		sender -= ami;
		target += ami;
	} {};
};

func void test() {
	print john;
  print jane;
  print martijn;

	fork deposit(jane, 100);
	fork deposit(john, 100);
	fork deposit(martijn, 1);
	join;
  print john;
  print jane;
  print martijn;

	fork deposit(jane, 200);
	fork withdraw(john, 200);
	fork deposit(martijn, 2000);
	join;
  print john;
  print jane;
  print martijn;
	fork withdraw(jane, 10);
	fork withdraw(john, 20);
	fork deposit(martijn, 100);
	join;
  print john;
  print jane;
  print martijn;
	fork withdraw(jane, 300);
	fork withdraw(john, 30000);
	fork withdraw(martijn, 50);
	join;
  print john;
  print jane;
  print martijn;
	fork withdraw(jane, 35);
	fork transfer(martijn, john, 1000);
	join;
  print john;
  print jane;
  print martijn;
	fork transfer(martijn, jane, 100);
	join;
  print john;
  print jane;
  print martijn;



};

test();
}
